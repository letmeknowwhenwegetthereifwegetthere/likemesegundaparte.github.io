{"ast":null,"code":"import _regeneratorRuntime from \"C:/Users/dcarv/OneDrive/Escritorio/desafio-29-05-2023/likemereact/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _toConsumableArray from \"C:/Users/dcarv/OneDrive/Escritorio/desafio-29-05-2023/likemereact/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport _asyncToGenerator from \"C:/Users/dcarv/OneDrive/Escritorio/desafio-29-05-2023/likemereact/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _slicedToArray from \"C:/Users/dcarv/OneDrive/Escritorio/desafio-29-05-2023/likemereact/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nvar _jsxFileName = \"C:\\\\Users\\\\dcarv\\\\OneDrive\\\\Escritorio\\\\desafio-29-05-2023\\\\likemereact\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport \"./App.css\";\nimport Form from \"./components/Form\";\nimport Post from \"./components/Post\";\nimport { useState } from \"react\";\nimport axios from \"axios\";\nimport { useEffect } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar urlBaseServer = \"http://localhost:3000\";\nfunction App() {\n  _s();\n  var _this = this;\n  var _useState = useState(\"\"),\n    _useState2 = _slicedToArray(_useState, 2),\n    titulo = _useState2[0],\n    setTitulo = _useState2[1];\n  var _useState3 = useState(\"\"),\n    _useState4 = _slicedToArray(_useState3, 2),\n    imgSrc = _useState4[0],\n    setImgSRC = _useState4[1];\n  var _useState5 = useState(\"\"),\n    _useState6 = _slicedToArray(_useState5, 2),\n    descripcion = _useState6[0],\n    setDescripcion = _useState6[1];\n  var _useState7 = useState([]),\n    _useState8 = _slicedToArray(_useState7, 2),\n    posts = _useState8[0],\n    setPosts = _useState8[1];\n  var getPosts = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n      var _yield$axios$get, posts;\n      return _regeneratorRuntime().wrap(function _callee$(_context) {\n        while (1) switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return axios.get(urlBaseServer + \"/posts\");\n          case 2:\n            _yield$axios$get = _context.sent;\n            posts = _yield$axios$get.data;\n            setPosts(_toConsumableArray(posts));\n          case 5:\n          case \"end\":\n            return _context.stop();\n        }\n      }, _callee);\n    }));\n    return function getPosts() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n  var agregarPost = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {\n      var post;\n      return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n        while (1) switch (_context2.prev = _context2.next) {\n          case 0:\n            post = {\n              titulo: titulo,\n              url: imgSrc,\n              descripcion: descripcion\n            };\n            _context2.next = 3;\n            return axios.post(urlBaseServer + \"/posts\", post);\n          case 3:\n            getPosts();\n          case 4:\n          case \"end\":\n            return _context2.stop();\n        }\n      }, _callee2);\n    }));\n    return function agregarPost() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n  var like = /*#__PURE__*/function () {\n    var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3(id) {\n      return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n        while (1) switch (_context3.prev = _context3.next) {\n          case 0:\n            _context3.next = 2;\n            return axios.put(urlBaseServer + \"/posts/like/\".concat(id));\n          case 2:\n            getPosts();\n          case 3:\n          case \"end\":\n            return _context3.stop();\n        }\n      }, _callee3);\n    }));\n    return function like(_x) {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n  var eliminarPost = /*#__PURE__*/function () {\n    var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee4(id) {\n      return _regeneratorRuntime().wrap(function _callee4$(_context4) {\n        while (1) switch (_context4.prev = _context4.next) {\n          case 0:\n            _context4.next = 2;\n            return axios.delete(urlBaseServer + \"/posts/\".concat(id));\n          case 2:\n            getPosts();\n          case 3:\n          case \"end\":\n            return _context4.stop();\n        }\n      }, _callee4);\n    }));\n    return function eliminarPost(_x2) {\n      return _ref4.apply(this, arguments);\n    };\n  }();\n  useEffect(function () {\n    getPosts();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"py-5 text-center\",\n      children: \"\\uD83D\\uDCF8 Like Me \\uD83D\\uDCF8\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row m-auto px-5\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-12 col-sm-4\",\n        children: /*#__PURE__*/_jsxDEV(Form, {\n          setTitulo: setTitulo,\n          setImgSRC: setImgSRC,\n          setDescripcion: setDescripcion,\n          agregarPost: agregarPost\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-12 col-sm-8 px-5 row posts align-items-start\",\n        children: posts.map(function (post, i) {\n          return /*#__PURE__*/_jsxDEV(Post, {\n            post: post,\n            like: like,\n            eliminarPost: eliminarPost\n          }, i, false, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 13\n          }, _this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 42,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"4ZMstVcgeuAQ5XI1+DEaxCNOH40=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["Form","Post","useState","axios","useEffect","jsxDEV","_jsxDEV","urlBaseServer","App","_s","_this","_useState","_useState2","_slicedToArray","titulo","setTitulo","_useState3","_useState4","imgSrc","setImgSRC","_useState5","_useState6","descripcion","setDescripcion","_useState7","_useState8","posts","setPosts","getPosts","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","_yield$axios$get","wrap","_callee$","_context","prev","next","get","sent","data","_toConsumableArray","stop","apply","arguments","agregarPost","_ref2","_callee2","post","_callee2$","_context2","url","like","_ref3","_callee3","id","_callee3$","_context3","put","concat","_x","eliminarPost","_ref4","_callee4","_callee4$","_context4","delete","_x2","className","children","fileName","_jsxFileName","lineNumber","columnNumber","map","i","_c","$RefreshReg$"],"sources":["C:/Users/dcarv/OneDrive/Escritorio/desafio-29-05-2023/likemereact/src/App.js"],"sourcesContent":["import \"./App.css\";\nimport Form from \"./components/Form\";\nimport Post from \"./components/Post\";\nimport { useState } from \"react\";\nimport axios from \"axios\";\nimport { useEffect } from \"react\";\n\nconst urlBaseServer = \"http://localhost:3000\";\n\nfunction App() {\n  const [titulo, setTitulo] = useState(\"\");\n  const [imgSrc, setImgSRC] = useState(\"\");\n  const [descripcion, setDescripcion] = useState(\"\");\n  const [posts, setPosts] = useState([]);\n\n  const getPosts = async () => {\n    const { data: posts } = await axios.get(urlBaseServer + \"/posts\");\n    setPosts([...posts]);\n  };\n\n  const agregarPost = async () => {\n    const post = { titulo, url: imgSrc, descripcion };\n    await axios.post(urlBaseServer + \"/posts\", post);\n    getPosts();\n  };\n\n  const like = async (id) => {\n    await axios.put(urlBaseServer + `/posts/like/${id}`);\n    getPosts();\n  };\n\n  const eliminarPost = async (id) => {\n    await axios.delete(urlBaseServer + `/posts/${id}`);\n    getPosts();\n  };\n\n  useEffect(() => {\n    getPosts();\n  }, []);\n\n  return (\n    <div className=\"App\">\n      <h2 className=\"py-5 text-center\">&#128248; Like Me &#128248;</h2>\n      <div className=\"row m-auto px-5\">\n        <div className=\"col-12 col-sm-4\">\n          <Form\n            setTitulo={setTitulo}\n            setImgSRC={setImgSRC}\n            setDescripcion={setDescripcion}\n            agregarPost={agregarPost}\n          />\n        </div>\n        <div className=\"col-12 col-sm-8 px-5 row posts align-items-start\">\n          {posts.map((post, i) => (\n            <Post key={i} post={post} like={like} eliminarPost={eliminarPost} />\n          ))}\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}